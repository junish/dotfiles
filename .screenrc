# lang
defc1 off

# shell
shell bash

# escape
escape ^Tt

# external command
#backtick 0 60 60 hostname

# window list
#caption always "%{=b wb} %-w%{= bW}%n %t%{=b wb}%+w %= %{=b wb}%y/%m/%d(%D) %{=b wb}%c"
caption always "%{=b BW} %-w%{=b wk}%n %t%{=b BW}%+w %="
#hardstatus alwayslastline "%{= Wb}[%m/%d %02c] %016=%{= WK}%-w%50>%{= bW}%n %t%{-}%+w%-0< %="
hardstatus off

# vertical bar style
sorendition "+rb .b"

# auto detach
autodetach on

# scroll
defscrollback 10000
#wrap on

# bell off
vbell off

# cjkwidth
cjkwidth on

# encode
defkanji utf8
defencoding utf8
encoding utf8
bind u eval 'encoding utf8' 'info'
bind e eval 'encoding eucjp' 'info'

# startup
startup_message off

# mouse cursor
bindkey -m -t ;b stuff "g/:^M^F^B"

# default keybind
bind \\

# debug
#verbose on

# 256color
#term xterm-256color
#defbce "on"
#attrcolor b ".I"
termcapinfo xterm* 'Co#256:pa#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm:'

# term not resize
termcapinfo xterm* 'is=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;4;6l'


# check when window exited
zombie kr # k: destory window, r: resurrect window

# rewuirte keybind
bind ^T eval 'next'
bind t eval 'prev'

# layout
layout new
layout select 0

# select
bind 0 eval 'select 0'
bind 1 eval 'select 1'
bind 2 eval 'select 2'
bind 3 eval 'select 3'
bind 4 eval 'select 4'
bind 5 eval 'select 5'
bind 6 eval 'select 6'
bind 7 eval 'select 7'
bind 8 eval 'select 8'
bind 9 eval 'select 9'

# window mode (like vim)
bind s eval 'split' 'focus' 'select 0'
bind v eval 'split -v' 'focus' 'select 0'
bind o eval 'only'
bind x eval 'remove'
bind w eval 'focus'
bind h eval 'focus top'
bind l eval 'focus bottom'
bind j eval 'focus down'
bind ^S eval 'split' 'focus' 'select 0'
bind ^V eval 'split -v' 'focus' 'select 0'
bind ^O eval 'only'
bind ^X eval 'remove'
bind ^W eval 'focus'
bind ^K eval 'focus up'
bind ^H eval 'focus top'
bind ^L eval 'focus bottom'
bind ^J eval 'focus down'
bind ^K eval 'focus up'

# window resize
bind = eval 'resize ='
bind J eval 'command -c resize'
bind K eval 'command -c resize'
bind H eval 'command -c resize'
bind L eval 'command -c resize'
bind -c resize ^] command
bind -c resize J eval 'resize -v +1' 'command -c resize'
bind -c resize K eval 'resize -v -1' 'command -c resize'
bind -c resize H eval 'resize -h +1' 'command -c resize'
bind -c resize L eval 'resize -h -1' 'command -c resize'

# logging
logfile "/tmp/%H_%Y%m%d%_%n.log"
deflog on
hardcopydir /tmp/

# screen clipboard to X clipboard
bufferfile "${HOME}/.screen-exchange"

#bindkey -m ' ' eval 'msgwait 0' 'stuff \040' writebuf 'exec !!! xclip -selection clippboard ${HOME}/.screen-exchange' 'msgwait 0'
#bindkey -m Y eval 'msgwait 0' 'stuff Y' writebuf 'exec !!! xclip -selection clippboard ${HOME}/.screen-exchange' 'msgwait 0'
#bindkey -m y eval 'msgwait 0' 'stuff y' writebuf 'exec !!! xclip -selection clipboard${HOME}/.screen-exchange' 'msgwait 0'
#bindkey -m W eval 'msgwait 0' 'stuff W' writebuf 'exec !!! xclip -selection clippboard ${HOME}/.screen-exchange' 'msgwait 0'
